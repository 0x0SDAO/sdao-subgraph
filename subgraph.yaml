# Replace with mainnet values
specVersion: 0.0.2
description: ScholarDoge Subgraph
repository: https://github.com/ScholarDoge/sdoge-subgraph
schema:
  file: ./schema.graphql
dataSources:
  #Staking Contract
  - kind: ethereum/contract
    name: Staking
    network: testnet
    source:
      address: '0x5BF599A3c8168298d9c8c4452131238AD338D3B1'
      abi: Staking
      startBlock: 15798912
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Staking
      abis:
        - name: Staking
          file: ./abis/Staking.json
        - name: StakedScholarDogeToken
          file: ./abis/StakedScholarDogeToken.json
        - name: ScholarDogeToken
          file: ./abis/ScholarDogeToken.json
        - name: PancakePair
          file: ./abis/libraries/PancakePair.json
        - name: BUSDBond
          file: ./abis/BondDepository.json
        - name: SDOGEBUSDBond
          file: ./abis/BondDepository.json
        - name: WBNBBond
          file: ./abis/BondDepositoryWBNB.json
        - name: CirculatingSupply
          file: ./abis/ScholarDogeCirculatingSupply.json
        - name: BondingCalculator
          file: ./abis/BondingCalculator.json
        - name: BEP20
          file: ./abis/libraries/BEP20.json
        - name: MasterChef
          file: ./abis/libraries/MasterChef.json
      callHandlers:
        - function: stake(address,uint256,bool)
          handler: handleStake
        - function: unstake(address,uint256,bool)
          handler: handleUnstake
      file: ./src/Staking.ts
  #BUSD Bond
  - kind: ethereum/contract
    name: BUSDBond
    network: testnet
    source:
      address: '0x9C086C0e5d5C059ec4feD8dD19B20EEB613bBC74'
      abi: BUSDBond
      startBlock: 15798912
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - BUSDBond
      abis:
        - name: Staking
          file: ./abis/Staking.json
        - name: StakedScholarDogeToken
          file: ./abis/StakedScholarDogeToken.json
        - name: ScholarDogeToken
          file: ./abis/ScholarDogeToken.json
        - name: PancakePair
          file: ./abis/libraries/PancakePair.json
        - name: BUSDBond
          file: ./abis/BondDepository.json
        - name: SDOGEBUSDBond
          file: ./abis/BondDepository.json
        - name: WBNBBond
          file: ./abis/BondDepositoryWBNB.json
        - name: CirculatingSupply
          file: ./abis/ScholarDogeCirculatingSupply.json
        - name: BondingCalculator
          file: ./abis/BondingCalculator.json
        - name: BEP20
          file: ./abis/libraries/BEP20.json
      callHandlers:
        - function: deposit(uint256,uint256,address)
          handler: handleDeposit
        - function: redeem(address,bool)
          handler: handleRedeem
      file: ./src/BUSDBond.ts
  #SDOGE-BUSD Bond
  - kind: ethereum/contract
    name: SDOGEBUSDBond
    network: testnet
    source:
      address: '0xacdd2c6d14753D87929a3C16D6729b0A4Da4F14B'
      abi: SDOGEBUSDBond
      startBlock: 15798912
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - BUSDBond
      abis:
        - name: Staking
          file: ./abis/Staking.json
        - name: StakedScholarDogeToken
          file: ./abis/StakedScholarDogeToken.json
        - name: ScholarDogeToken
          file: ./abis/ScholarDogeToken.json
        - name: PancakePair
          file: ./abis/libraries/PancakePair.json
        - name: BUSDBond
          file: ./abis/BondDepository.json
        - name: SDOGEBUSDBond
          file: ./abis/BondDepository.json
        - name: WBNBBond
          file: ./abis/BondDepositoryWBNB.json
        - name: CirculatingSupply
          file: ./abis/ScholarDogeCirculatingSupply.json
        - name: BondingCalculator
          file: ./abis/BondingCalculator.json
        - name: BEP20
          file: ./abis/libraries/BEP20.json
      callHandlers:
        - function: deposit(uint256,uint256,address)
          handler: handleDeposit
        - function: redeem(address,bool)
          handler: handleRedeem
      file: ./src/SDOGEBUSDBond.ts
  #WBNB Bond
  - kind: ethereum/contract
    name: WBNBBond
    network: testnet
    source:
      address: '0x1Ba47279fd3426e9310F8bBbff042B338bB9DE85'
      abi: WBNBBond
      startBlock: 15798912
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - WBNBBond
      abis:
        - name: Staking
          file: ./abis/Staking.json
        - name: StakedScholarDogeToken
          file: ./abis/StakedScholarDogeToken.json
        - name: ScholarDogeToken
          file: ./abis/ScholarDogeToken.json
        - name: PancakePair
          file: ./abis/libraries/PancakePair.json
        - name: BUSDBond
          file: ./abis/BondDepository.json
        - name: SDOGEBUSDBond
          file: ./abis/BondDepository.json
        - name: WBNBBond
          file: ./abis/BondDepositoryWBNB.json
        - name: CirculatingSupply
          file: ./abis/ScholarDogeCirculatingSupply.json
        - name: BondingCalculator
          file: ./abis/BondingCalculator.json
        - name: BEP20
          file: ./abis/libraries/BEP20.json
      callHandlers:
        - function: deposit(uint256,uint256,address)
          handler: handleDeposit
        - function: redeem(address,bool)
          handler: handleRedeem
      file: ./src/WBNBBond.ts
  #SSDOGE
  - kind: ethereum/contract
    name: StakedScholarDogeToken
    network: testnet
    source:
      address: '0x4c7f33Bcc0f8fb31CA4059FA501e8aE34bc5Cf33'
      abi: StakedScholarDogeToken
      startBlock: 15798912
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - StakedScholarDogeToken
      abis:
        - name: StakedScholarDogeToken
          file: ./abis/StakedScholarDogeToken.json
        - name: ScholarDogeToken
          file: ./abis/ScholarDogeToken.json
        - name: PancakePairPair
          file: ./abis/libraries/PancakePair.json
      callHandlers:
        - function: rebase(uint256,uint256)
          handler: rebaseFunction
      file: ./src/StakedScholarDogeToken.ts